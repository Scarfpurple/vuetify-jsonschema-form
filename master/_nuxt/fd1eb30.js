(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1122:function(e,t,n){"use strict";var o={};n.r(o),n.d(o,"createScalarToken",(function(){return _t})),n.d(o,"resolveAsScalar",(function(){return Ct})),n.d(o,"setScalarValue",(function(){return Bt})),n.d(o,"stringify",(function(){return Kt})),n.d(o,"visit",(function(){return Vt})),n.d(o,"BOM",(function(){return Yt})),n.d(o,"DOCUMENT",(function(){return Wt})),n.d(o,"FLOW_END",(function(){return Gt})),n.d(o,"SCALAR",(function(){return Qt})),n.d(o,"isCollection",(function(){return Ht})),n.d(o,"isScalar",(function(){return Xt})),n.d(o,"prettyToken",(function(){return zt})),n.d(o,"tokenType",(function(){return Zt}));var r={};n.r(r),n.d(r,"Composer",(function(){return $t})),n.d(r,"Document",(function(){return nt})),n.d(r,"Schema",(function(){return et})),n.d(r,"YAMLError",(function(){return it})),n.d(r,"YAMLParseError",(function(){return ot})),n.d(r,"YAMLWarning",(function(){return ct})),n.d(r,"Alias",(function(){return T})),n.d(r,"isAlias",(function(){return c.j})),n.d(r,"isCollection",(function(){return c.k})),n.d(r,"isDocument",(function(){return c.l})),n.d(r,"isMap",(function(){return c.m})),n.d(r,"isNode",(function(){return c.n})),n.d(r,"isPair",(function(){return c.o})),n.d(r,"isScalar",(function(){return c.p})),n.d(r,"isSeq",(function(){return c.q})),n.d(r,"Pair",(function(){return G})),n.d(r,"Scalar",(function(){return L.a})),n.d(r,"YAMLMap",(function(){return ee})),n.d(r,"YAMLSeq",(function(){return ne})),n.d(r,"CST",(function(){return o})),n.d(r,"Lexer",(function(){return cn})),n.d(r,"LineCounter",(function(){return an})),n.d(r,"Parser",(function(){return mn})),n.d(r,"parse",(function(){return vn})),n.d(r,"parseAllDocuments",(function(){return gn})),n.d(r,"parseDocument",(function(){return bn})),n.d(r,"stringify",(function(){return kn})),n.d(r,"visit",(function(){return d})),n.d(r,"visitAsync",(function(){return y}));var c=n(646);const l=Symbol("break visit"),f=Symbol("skip children"),h=Symbol("remove node");function d(e,t){const n=k(t);if(Object(c.l)(e)){m(null,e.contents,n,Object.freeze([e]))===h&&(e.contents=null)}else m(null,e,n,Object.freeze([]))}function m(e,t,n,path){const o=w(e,t,n,path);if(Object(c.n)(o)||Object(c.o)(o))return O(e,path,o),m(e,o,n,path);if("symbol"!=typeof o)if(Object(c.k)(t)){path=Object.freeze(path.concat(t));for(let i=0;i<t.items.length;++i){const e=m(i,t.items[i],n,path);if("number"==typeof e)i=e-1;else{if(e===l)return l;e===h&&(t.items.splice(i,1),i-=1)}}}else if(Object(c.o)(t)){path=Object.freeze(path.concat(t));const e=m("key",t.key,n,path);if(e===l)return l;e===h&&(t.key=null);const o=m("value",t.value,n,path);if(o===l)return l;o===h&&(t.value=null)}return o}async function y(e,t){const n=k(t);if(Object(c.l)(e)){await v(null,e.contents,n,Object.freeze([e]))===h&&(e.contents=null)}else await v(null,e,n,Object.freeze([]))}async function v(e,t,n,path){const o=await w(e,t,n,path);if(Object(c.n)(o)||Object(c.o)(o))return O(e,path,o),v(e,o,n,path);if("symbol"!=typeof o)if(Object(c.k)(t)){path=Object.freeze(path.concat(t));for(let i=0;i<t.items.length;++i){const e=await v(i,t.items[i],n,path);if("number"==typeof e)i=e-1;else{if(e===l)return l;e===h&&(t.items.splice(i,1),i-=1)}}}else if(Object(c.o)(t)){path=Object.freeze(path.concat(t));const e=await v("key",t.key,n,path);if(e===l)return l;e===h&&(t.key=null);const o=await v("value",t.value,n,path);if(o===l)return l;o===h&&(t.value=null)}return o}function k(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function w(e,t,n,path){var o,r,l,f,h;return"function"==typeof n?n(e,t,path):Object(c.m)(t)?null===(o=n.Map)||void 0===o?void 0:o.call(n,e,t,path):Object(c.q)(t)?null===(r=n.Seq)||void 0===r?void 0:r.call(n,e,t,path):Object(c.o)(t)?null===(l=n.Pair)||void 0===l?void 0:l.call(n,e,t,path):Object(c.p)(t)?null===(f=n.Scalar)||void 0===f?void 0:f.call(n,e,t,path):Object(c.j)(t)?null===(h=n.Alias)||void 0===h?void 0:h.call(n,e,t,path):void 0}function O(e,path,t){const n=path[path.length-1];if(Object(c.k)(n))n.items[e]=t;else if(Object(c.o)(n))"key"===e?n.key=t:n.value=t;else{if(!Object(c.l)(n)){const e=Object(c.j)(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}n.contents=t}}d.BREAK=l,d.SKIP=f,d.REMOVE=h,y.BREAK=l,y.SKIP=f,y.REMOVE=h;const S={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class E{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},E.defaultYaml,e),this.tags=Object.assign({},E.defaultTags,t)}clone(){const e=new E(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new E(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:E.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},E.defaultTags)}return e}add(line,e){this.atNextDocument&&(this.yaml={explicit:E.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},E.defaultTags),this.atNextDocument=!1);const t=line.trim().split(/[ \t]+/),n=t.shift();switch(n){case"%TAG":{if(2!==t.length&&(e(0,"%TAG directive should contain exactly two parts"),t.length<2))return!1;const[n,o]=t;return this.tags[n]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==t.length)return e(0,"%YAML directive should contain exactly one part"),!1;const[n]=t;if("1.1"===n||"1.2"===n)return this.yaml.version=n,!0;return e(6,`Unsupported YAML version ${n}`,/^\d+\.\d+$/.test(n)),!1}default:return e(0,`Unknown directive ${n}`,!0),!1}}tagName(source,e){if("!"===source)return"!";if("!"!==source[0])return e(`Not a valid tag: ${source}`),null;if("<"===source[1]){const t=source.slice(2,-1);return"!"===t||"!!"===t?(e(`Verbatim tags aren't resolved, so ${source} is invalid.`),null):(">"!==source[source.length-1]&&e("Verbatim tags must end with a >"),t)}const[,t,n]=source.match(/^(.*!)([^!]*)$/);n||e(`The ${source} tag has no suffix`);const o=this.tags[t];return o?o+decodeURIComponent(n):"!"===t?source:(e(`Could not resolve tag: ${source}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>S[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let o;if(e&&n.length>0&&Object(c.n)(e.contents)){const t={};d(e.contents,((e,n)=>{Object(c.n)(n)&&n.tag&&(t[n.tag]=!0)})),o=Object.keys(t)}else o=[];for(const[r,c]of n)"!!"===r&&"tag:yaml.org,2002:"===c||e&&!o.some((e=>e.startsWith(c)))||t.push(`%TAG ${r} ${c}`);return t.join("\n")}}function N(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function A(e){const t=new Set;return d(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function j(e,t){for(let i=1;;++i){const n=`${e}${i}`;if(!t.has(n))return n}}E.defaultYaml={explicit:!1,version:"1.2"},E.defaultTags={"!!":"tag:yaml.org,2002:"};class T extends c.e{constructor(source){super(c.a),this.source=source,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return d(e,{Node:(e,n)=>{if(n===this)return d.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:o,maxAliasCount:r}=t,source=this.resolve(o);if(!source){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const data=n.get(source);if(!data||void 0===data.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(r>=0&&(data.count+=1,0===data.aliasCount&&(data.aliasCount=I(o,source,n)),data.count*data.aliasCount>r)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return data.res}toString(e,t,n){const o=`*${this.source}`;if(e){if(N(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${o} `}return o}}function I(e,t,n){if(Object(c.j)(t)){const source=t.resolve(e),o=n&&source&&n.get(source);return o?o.count*o.aliasCount:0}if(Object(c.k)(t)){let o=0;for(const r of t.items){const t=I(e,r,n);t>o&&(o=t)}return o}if(Object(c.o)(t)){const o=I(e,t.key,n),r=I(e,t.value,n);return Math.max(o,r)}return 1}var L=n(649);function x(e,t,n){var o,r;if(Object(c.l)(e)&&(e=e.contents),Object(c.n)(e))return e;if(Object(c.o)(e)){const map=null===(r=(o=n.schema[c.c]).createNode)||void 0===r?void 0:r.call(o,n.schema,null,n);return map.items.push(e),map}(e instanceof String||e instanceof Number||e instanceof Boolean||"function"==typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:l,onAnchor:f,onTagObj:h,schema:d,sourceObjects:m}=n;let y;if(l&&e&&"object"==typeof e){if(y=m.get(e),y)return y.anchor||(y.anchor=f(e)),new T(y.anchor);y={anchor:null,node:null},m.set(e,y)}(null==t?void 0:t.startsWith("!!"))&&(t="tag:yaml.org,2002:"+t.slice(2));let v=function(e,t,n){var o;if(t){const e=n.filter((e=>e.tag===t)),r=null!==(o=e.find((e=>!e.format)))&&void 0!==o?o:e[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return n.find((t=>{var n;return(null===(n=t.identify)||void 0===n?void 0:n.call(t,e))&&!t.format}))}(e,t,d.tags);if(!v){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new L.a(e);return y&&(y.node=t),t}v=e instanceof Map?d[c.c]:Symbol.iterator in Object(e)?d[c.h]:d[c.c]}h&&(h(v),delete n.onTagObj);const k=(null==v?void 0:v.createNode)?v.createNode(n.schema,e,n):new L.a(e);return t&&(k.tag=t),y&&(y.node=k),k}function $(e,path,t){let n=t;for(let i=path.length-1;i>=0;--i){const e=path[i];if("number"==typeof e&&Number.isInteger(e)&&e>=0){const a=[];a[e]=n,n=a}else n=new Map([[e,n]])}return x(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const C=path=>null==path||"object"==typeof path&&!!path[Symbol.iterator]().next().done;class _ extends c.e{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>Object(c.n)(t)||Object(c.o)(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(path,e){if(C(path))this.add(e);else{const[t,...n]=path,o=this.get(t,!0);if(Object(c.k)(o))o.addIn(n,e);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`);this.set(t,$(this.schema,n,e))}}}deleteIn(path){const[e,...t]=path;if(0===t.length)return this.delete(e);const n=this.get(e,!0);if(Object(c.k)(n))return n.deleteIn(t);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${t}`)}getIn(path,e){const[t,...n]=path,o=this.get(t,!0);return 0===n.length?!e&&Object(c.p)(o)?o.value:o:Object(c.k)(o)?o.getIn(n,e):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!Object(c.o)(t))return!1;const n=t.value;return null==n||e&&Object(c.p)(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(path){const[e,...t]=path;if(0===t.length)return this.has(e);const n=this.get(e,!0);return!!Object(c.k)(n)&&n.hasIn(t)}setIn(path,e){const[t,...n]=path;if(0===n.length)this.set(t,e);else{const o=this.get(t,!0);if(Object(c.k)(o))o.setIn(n,e);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`);this.set(t,$(this.schema,n,e))}}}}_.maxFlowStringSingleLineLength=60;const B=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function D(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const M=(e,t,n)=>e.endsWith("\n")?D(n,t):n.includes("\n")?"\n"+D(n,t):(e.endsWith(" ")?"":" ")+n;var K=n(721);function P(e,t){const n=Object.assign({blockQuote:!0,commentString:B,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let o;switch(n.collectionStyle){case"block":o=!1;break;case"flow":o=!0;break;default:o=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:o,options:n}}function U(e,t,n,o){var r,l;if(Object(c.o)(e))return e.toString(t,n,o);if(Object(c.j)(e)){if(t.doc.directives)return e.toString(t);if(null===(r=t.resolvedAliases)||void 0===r?void 0:r.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let f;const h=Object(c.n)(e)?e:t.doc.createNode(e,{onTagObj:e=>f=e});f||(f=function(e,t){var n,o,r,l;if(t.tag){const o=e.filter((e=>e.tag===t.tag));if(o.length>0)return null!==(n=o.find((e=>e.format===t.format)))&&void 0!==n?n:o[0]}let f,h;if(Object(c.p)(t)){h=t.value;const n=e.filter((e=>{var t;return null===(t=e.identify)||void 0===t?void 0:t.call(e,h)}));f=null!==(o=n.find((e=>e.format===t.format)))&&void 0!==o?o:n.find((e=>!e.format))}else h=t,f=e.find((e=>e.nodeClass&&h instanceof e.nodeClass));if(!f){const e=null!==(l=null===(r=null==h?void 0:h.constructor)||void 0===r?void 0:r.name)&&void 0!==l?l:typeof h;throw new Error(`Tag not resolved for ${e} value`)}return f}(t.doc.schema.tags,h));const d=function(e,t,{anchors:n,doc:o}){if(!o.directives)return"";const r=[],l=(Object(c.p)(e)||Object(c.k)(e))&&e.anchor;l&&N(l)&&(n.add(l),r.push(`&${l}`));const f=e.tag?e.tag:t.default?null:t.tag;return f&&r.push(o.directives.tagString(f)),r.join(" ")}(h,f,t);d.length>0&&(t.indentAtStart=(null!==(l=t.indentAtStart)&&void 0!==l?l:0)+d.length+1);const m="function"==typeof f.stringify?f.stringify(h,t,n,o):Object(c.p)(h)?Object(K.a)(h,t,n,o):h.toString(t,n,o);return d?Object(c.p)(h)||"{"===m[0]||"["===m[0]?`${d} ${m}`:`${d}\n${t.indent}${m}`:m}var R=n(822),F=n(702);function V(e,map,{key:t,value:n}){if((null==e?void 0:e.doc.schema.merge)&&J(t))if(n=Object(c.j)(n)?n.resolve(e.doc):n,Object(c.q)(n))for(const t of n.items)Y(e,map,t);else if(Array.isArray(n))for(const t of n)Y(e,map,t);else Y(e,map,n);else{const o=Object(F.a)(t,"",e);if(map instanceof Map)map.set(o,Object(F.a)(n,o,e));else if(map instanceof Set)map.add(o);else{const r=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(Object(c.n)(e)&&n&&n.doc){const t=P(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const o=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(o);e.length>40&&(e=e.substring(0,36)+'..."'),Object(R.a)(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(t)}(t,o,e),l=Object(F.a)(n,r,e);r in map?Object.defineProperty(map,r,{value:l,writable:!0,enumerable:!0,configurable:!0}):map[r]=l}}return map}const J=e=>"<<"===e||Object(c.p)(e)&&"<<"===e.value&&(!e.type||e.type===L.a.PLAIN);function Y(e,map,t){const source=e&&Object(c.j)(t)?t.resolve(e.doc):t;if(!Object(c.m)(source))throw new Error("Merge sources must be maps or map aliases");const n=source.toJSON(null,e,Map);for(const[e,t]of n)map instanceof Map?map.has(e)||map.set(e,t):map instanceof Set?map.add(e):Object.prototype.hasOwnProperty.call(map,e)||Object.defineProperty(map,e,{value:t,writable:!0,enumerable:!0,configurable:!0});return map}function W(e,t,n){const o=x(e,void 0,n),r=x(t,void 0,n);return new G(o,r)}class G{constructor(e,t=null){Object.defineProperty(this,c.d,{value:c.f}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return Object(c.n)(t)&&(t=t.clone(e)),Object(c.n)(n)&&(n=n.clone(e)),new G(t,n)}toJSON(e,t){return V(t,(null==t?void 0:t.mapAsMap)?new Map:{},this)}toString(e,t,n){return(null==e?void 0:e.doc)?function({key:e,value:t},n,o,r){const{allNullValues:l,doc:f,indent:h,indentStep:d,options:{commentString:m,indentSeq:y,simpleKeys:v}}=n;let k=Object(c.n)(e)&&e.comment||null;if(v){if(k)throw new Error("With simple keys, key nodes cannot have comments");if(Object(c.k)(e))throw new Error("With simple keys, collection cannot be used as a key value")}let w=!v&&(!e||k&&null==t&&!n.inFlow||Object(c.k)(e)||(Object(c.p)(e)?e.type===L.a.BLOCK_FOLDED||e.type===L.a.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!w&&(v||!l),indent:h+d});let O=!1,S=!1,E=U(e,n,(()=>O=!0),(()=>S=!0));if(!w&&!n.inFlow&&E.length>1024){if(v)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");w=!0}if(n.inFlow){if(l||null==t)return O&&o&&o(),""===E?"?":w?`? ${E}`:E}else if(l&&!v||null==t&&w)return E=`? ${E}`,k&&!O?E+=M(E,n.indent,m(k)):S&&r&&r(),E;O&&(k=null),w?(k&&(E+=M(E,n.indent,m(k))),E=`? ${E}\n${h}:`):(E=`${E}:`,k&&(E+=M(E,n.indent,m(k))));let N="",A=null;Object(c.n)(t)?(t.spaceBefore&&(N="\n"),t.commentBefore&&(N+=`\n${D(m(t.commentBefore),n.indent)}`),A=t.comment):t&&"object"==typeof t&&(t=f.createNode(t));n.implicitKey=!1,w||k||!Object(c.p)(t)||(n.indentAtStart=E.length+1),S=!1,y||!(d.length>=2)||n.inFlow||w||!Object(c.q)(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substr(2));let j=!1;const T=U(t,n,(()=>j=!0),(()=>S=!0));let I=" ";N||k?I=""!==T||n.inFlow?`${N}\n${n.indent}`:"\n"===N?"\n\n":N:!w&&Object(c.k)(t)?("["===T[0]||"{"===T[0])&&!T.includes("\n")||(I=`\n${n.indent}`):""!==T&&"\n"!==T[0]||(I="");return E+=I+T,n.inFlow?j&&o&&o():A&&!j?E+=M(E,n.indent,m(A)):S&&r&&r(),E}(this,e,t,n):JSON.stringify(this)}}function Q(e,t,n){var o;return((null!==(o=t.inFlow)&&void 0!==o?o:e.flow)?X:H)(e,t,n)}function H({comment:e,items:t},n,{blockItemPrefix:o,flowChars:r,itemIndent:l,onChompKeep:f,onComment:h}){const{indent:d,options:{commentString:m}}=n,y=Object.assign({},n,{indent:l,type:null});let v=!1;const k=[];for(let i=0;i<t.length;++i){const e=t[i];let r=null;if(Object(c.n)(e))!v&&e.spaceBefore&&k.push(""),z(n,k,e.commentBefore,v),e.comment&&(r=e.comment);else if(Object(c.o)(e)){const t=Object(c.n)(e.key)?e.key:null;t&&(!v&&t.spaceBefore&&k.push(""),z(n,k,t.commentBefore,v))}v=!1;let f=U(e,y,(()=>r=null),(()=>v=!0));r&&(f+=M(f,l,m(r))),v&&r&&(v=!1),k.push(o+f)}let w;if(0===k.length)w=r.start+r.end;else{w=k[0];for(let i=1;i<k.length;++i){const line=k[i];w+=line?`\n${d}${line}`:"\n"}}return e?(w+="\n"+D(m(e),d),h&&h()):v&&f&&f(),w}function X({comment:e,items:t},n,{flowChars:o,itemIndent:r,onComment:l}){const{indent:f,indentStep:h,options:{commentString:d}}=n;r+=h;const m=Object.assign({},n,{indent:r,inFlow:!0,type:null});let y=!1,v=0;const k=[];for(let i=0;i<t.length;++i){const e=t[i];let o=null;if(Object(c.n)(e))e.spaceBefore&&k.push(""),z(n,k,e.commentBefore,!1),e.comment&&(o=e.comment);else if(Object(c.o)(e)){const t=Object(c.n)(e.key)?e.key:null;t&&(t.spaceBefore&&k.push(""),z(n,k,t.commentBefore,!1),t.comment&&(y=!0));const r=Object(c.n)(e.value)?e.value:null;r?(r.comment&&(o=r.comment),r.commentBefore&&(y=!0)):null==e.value&&t&&t.comment&&(o=t.comment)}o&&(y=!0);let l=U(e,m,(()=>o=null));i<t.length-1&&(l+=","),o&&(l+=M(l,r,d(o))),!y&&(k.length>v||l.includes("\n"))&&(y=!0),k.push(l),v=k.length}let w;const{start:O,end:S}=o;if(0===k.length)w=O+S;else{if(!y){y=k.reduce(((e,line)=>e+line.length+2),2)>_.maxFlowStringSingleLineLength}if(y){w=O;for(const line of k)w+=line?`\n${h}${f}${line}`:"\n";w+=`\n${f}${S}`}else w=`${O} ${k.join(" ")} ${S}`}return e&&(w+=M(w,d(e),f),l&&l()),w}function z({indent:e,options:{commentString:t}},n,o,r){if(o&&r&&(o=o.replace(/^\n+/,"")),o){const r=D(t(o),e);n.push(r.trimStart())}}function Z(e,t){const n=Object(c.p)(t)?t.value:t;for(const o of e)if(Object(c.o)(o)){if(o.key===t||o.key===n)return o;if(Object(c.p)(o.key)&&o.key.value===n)return o}}class ee extends _{constructor(e){super(c.c,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){var n;let o;o=Object(c.o)(e)?e:new G(e&&"object"==typeof e&&"key"in e?e.key:e,e.value);const r=Z(this.items,o.key),l=null===(n=this.schema)||void 0===n?void 0:n.sortMapEntries;if(r){if(!t)throw new Error(`Key ${o.key} already set`);Object(c.p)(r.value)&&Object(L.b)(o.value)?r.value.value=o.value:r.value=o.value}else if(l){const i=this.items.findIndex((e=>l(o,e)<0));-1===i?this.items.push(o):this.items.splice(i,0,o)}else this.items.push(o)}delete(e){const t=Z(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=Z(this.items,e),o=null==n?void 0:n.value;return!t&&Object(c.p)(o)?o.value:o}has(e){return!!Z(this.items,e)}set(e,t){this.add(new G(e,t),!0)}toJSON(e,t,n){const map=n?new n:(null==t?void 0:t.mapAsMap)?new Map:{};(null==t?void 0:t.onCreate)&&t.onCreate(map);for(const e of this.items)V(t,map,e);return map}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!Object(c.o)(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Q(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const te={collection:"map",createNode:function(e,t,n){const{keepUndefined:o,replacer:r}=n,map=new ee(e),c=(e,c)=>{if("function"==typeof r)c=r.call(t,e,c);else if(Array.isArray(r)&&!r.includes(e))return;(void 0!==c||o)&&map.items.push(W(e,c,n))};if(t instanceof Map)for(const[e,n]of t)c(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))c(e,t[e]);return"function"==typeof e.sortMapEntries&&map.items.sort(e.sortMapEntries),map},default:!0,nodeClass:ee,tag:"tag:yaml.org,2002:map",resolve:(map,e)=>(Object(c.m)(map)||e("Expected a mapping for this tag"),map)};class ne extends _{constructor(e){super(c.h,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=se(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=se(e);if("number"!=typeof n)return;const o=this.items[n];return!t&&Object(c.p)(o)?o.value:o}has(e){const t=se(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=se(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[n];Object(c.p)(o)&&Object(L.b)(t)?o.value=t:this.items[n]=t}toJSON(e,t){const n=[];(null==t?void 0:t.onCreate)&&t.onCreate(n);let i=0;for(const e of this.items)n.push(Object(F.a)(e,String(i++),t));return n}toString(e,t,n){return e?Q(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function se(e){let t=Object(c.p)(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const ie={collection:"seq",createNode:function(e,t,n){const{replacer:o}=n,r=new ne(e);if(t&&Symbol.iterator in Object(t)){let i=0;for(let e of t){if("function"==typeof o){const n=t instanceof Set?e:String(i++);e=o.call(t,n,e)}r.items.push(x(e,void 0,n))}}return r},default:!0,nodeClass:ne,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(Object(c.q)(e)||t("Expected a sequence for this tag"),e)},oe={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,o)=>(t=Object.assign({actualString:!0},t),Object(K.a)(e,t,n,o))},re={identify:e=>null==e,createNode:()=>new L.a(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new L.a(null),stringify:({source:source},e)=>"string"==typeof source&&re.test.test(source)?source:e.options.nullStr},ce={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new L.a("t"===e[0]||"T"===e[0]),stringify({source:source,value:e},t){if(source&&ce.test.test(source)){if(e===("t"===source[0]||"T"===source[0]))return source}return e?t.options.trueStr:t.options.falseStr}};function ae({format:e,minFractionDigits:t,tag:n,value:o}){if("bigint"==typeof o)return String(o);const r="number"==typeof o?o:Number(o);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let c=JSON.stringify(o);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(c)){let i=c.indexOf(".");i<0&&(i=c.length,c+=".");let e=t-(c.length-i-1);for(;e-- >0;)c+="0"}return c}const le={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ae},ue={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():ae(e)}},fe={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new L.a(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:ae},he=e=>"bigint"==typeof e||Number.isInteger(e),de=(e,t,n,{intAsBigInt:o})=>o?BigInt(e):parseInt(e.substring(t),n);function pe(e,t,n){const{value:o}=e;return he(o)&&o>=0?n+o.toString(t):ae(e)}const me={identify:e=>he(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>de(e,2,8,n),stringify:e=>pe(e,8,"0o")},ye={identify:he,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>de(e,0,10,n),stringify:ae},ge={identify:e=>he(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>de(e,2,16,n),stringify:e=>pe(e,16,"0x")},be=[te,ie,oe,re,ce,me,ye,ge,le,ue,fe];function ve(e){return"bigint"==typeof e||Number.isInteger(e)}const ke=({value:e})=>JSON.stringify(e),we=[te,ie].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:ke},{identify:e=>null==e,createNode:()=>new L.a(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ke},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:ke},{identify:ve,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>ve(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:ke}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)});var Oe=n(823);function Se(e,t){var n;if(Object(c.q)(e))for(let i=0;i<e.items.length;++i){let o=e.items[i];if(!Object(c.o)(o)){if(Object(c.m)(o)){o.items.length>1&&t("Each pair must have its own sequence indicator");const e=o.items[0]||new G(new L.a(null));if(o.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${o.commentBefore}\n${e.key.commentBefore}`:o.commentBefore),o.comment){const t=null!==(n=e.value)&&void 0!==n?n:e.key;t.comment=t.comment?`${o.comment}\n${t.comment}`:o.comment}o=e}e.items[i]=Object(c.o)(o)?o:new G(o)}}else t("Expected a sequence for this tag");return e}function Ee(e,t,n){const{replacer:o}=n,r=new ne(e);r.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let c,l;if("function"==typeof o&&(e=o.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);c=e[0],l=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);c=t[0],l=e[c]}else c=e;r.items.push(W(c,l,n))}return r}const Ne={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Se,createNode:Ee};class Ae extends ne{constructor(){super(),this.add=ee.prototype.add.bind(this),this.delete=ee.prototype.delete.bind(this),this.get=ee.prototype.get.bind(this),this.has=ee.prototype.has.bind(this),this.set=ee.prototype.set.bind(this),this.tag=Ae.tag}toJSON(e,t){if(!t)return super.toJSON(e);const map=new Map;(null==t?void 0:t.onCreate)&&t.onCreate(map);for(const e of this.items){let n,o;if(Object(c.o)(e)?(n=Object(F.a)(e.key,"",t),o=Object(F.a)(e.value,n,t)):n=Object(F.a)(e,"",t),map.has(n))throw new Error("Ordered maps must not include duplicate keys");map.set(n,o)}return map}}Ae.tag="tag:yaml.org,2002:omap";const je={collection:"seq",identify:e=>e instanceof Map,nodeClass:Ae,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Se(e,t),o=[];for(const{key:e}of n.items)Object(c.p)(e)&&(o.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):o.push(e.value));return Object.assign(new Ae,n)},createNode(e,t,n){const o=Ee(e,t,n),r=new Ae;return r.items=o.items,r}};function Te({value:e,source:source},t){return source&&(e?Ie:Le).test.test(source)?source:e?t.options.trueStr:t.options.falseStr}const Ie={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new L.a(!0),stringify:Te},Le={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new L.a(!1),stringify:Te},xe={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ae},$e={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():ae(e)}},Ce={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new L.a(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const o=e.substring(n+1).replace(/_/g,"");"0"===o[o.length-1]&&(t.minFractionDigits=o.length)}return t},stringify:ae},_e=e=>"bigint"==typeof e||Number.isInteger(e);function Be(e,t,n,{intAsBigInt:o}){const r=e[0];if("-"!==r&&"+"!==r||(t+=1),e=e.substring(t).replace(/_/g,""),o){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===r?BigInt(-1)*t:t}const c=parseInt(e,n);return"-"===r?-1*c:c}function De(e,t,n){const{value:o}=e;if(_e(o)){const e=o.toString(t);return o<0?"-"+n+e.substr(1):n+e}return ae(e)}const Me={identify:_e,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>Be(e,2,2,n),stringify:e=>De(e,2,"0b")},Ke={identify:_e,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>Be(e,1,8,n),stringify:e=>De(e,8,"0")},qe={identify:_e,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>Be(e,0,10,n),stringify:ae},Pe={identify:_e,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>Be(e,2,16,n),stringify:e=>De(e,16,"0x")};class Ue extends ee{constructor(e){super(e),this.tag=Ue.tag}add(e){let t;t=Object(c.o)(e)?e:"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new G(e.key,null):new G(e,null);Z(this.items,t.key)||this.items.push(t)}get(e,t){const n=Z(this.items,e);return!t&&Object(c.o)(n)?Object(c.p)(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=Z(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new G(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}Ue.tag="tag:yaml.org,2002:set";const Re={collection:"map",identify:e=>e instanceof Set,nodeClass:Ue,default:!1,tag:"tag:yaml.org,2002:set",resolve(map,e){if(Object(c.m)(map)){if(map.hasAllNullValues(!0))return Object.assign(new Ue,map);e("Set items must all have null values")}else e("Expected a mapping for this tag");return map},createNode(e,t,n){const{replacer:o}=n,r=new Ue(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof o&&(e=o.call(t,e,e)),r.items.push(W(e,null,n));return r}};function Fe(e,t){const n=e[0],o="-"===n||"+"===n?e.substring(1):e,r=e=>t?BigInt(e):Number(e),c=o.replace(/_/g,"").split(":").reduce(((e,p)=>e*r(60)+r(p)),r(0));return"-"===n?r(-1)*c:c}function Ve(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return ae(e);let o="";t<0&&(o="-",t*=n(-1));const r=n(60),c=[t%r];return t<60?c.unshift(0):(t=(t-c[0])/r,c.unshift(t%r),t>=60&&(t=(t-c[0])/r,c.unshift(t))),o+c.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const Je={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Fe(e,n),stringify:Ve},Ye={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Fe(e,!1),stringify:Ve},We={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(We.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,o,r,c,l,f]=t.map(Number),h=t[7]?Number((t[7]+"00").substr(1,3)):0;let d=Date.UTC(n,o-1,r,c||0,l||0,f||0,h);const m=t[8];if(m&&"Z"!==m){let e=Fe(m,!1);Math.abs(e)<30&&(e*=60),d-=6e4*e}return new Date(d)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Ge=[te,ie,oe,re,Ie,Le,Me,Ke,qe,Pe,xe,$e,Ce,Oe.a,je,Ne,Re,Je,Ye,We],Qe=new Map([["core",be],["failsafe",[te,ie,oe]],["json",we],["yaml11",Ge],["yaml-1.1",Ge]]),He={binary:Oe.a,bool:ce,float:fe,floatExp:ue,floatNaN:le,floatTime:Ye,int:ye,intHex:ge,intOct:me,intTime:Je,map:te,null:re,omap:je,pairs:Ne,seq:ie,set:Re,timestamp:We},Xe={"tag:yaml.org,2002:binary":Oe.a,"tag:yaml.org,2002:omap":je,"tag:yaml.org,2002:pairs":Ne,"tag:yaml.org,2002:set":Re,"tag:yaml.org,2002:timestamp":We};function ze(e,t){let n=Qe.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(Qe.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=He[e];if(t)return t;const n=Object.keys(He).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}const Ze=(a,b)=>a.key<b.key?-1:a.key>b.key?1:0;class et{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:o,schema:r,sortMapEntries:l,toStringDefaults:f}){this.compat=Array.isArray(e)?ze(e,"compat"):e?ze(null,e):null,this.merge=!!n,this.name="string"==typeof r&&r||"core",this.knownTags=o?Xe:{},this.tags=ze(t,this.name),this.toStringOptions=null!=f?f:null,Object.defineProperty(this,c.c,{value:te}),Object.defineProperty(this,c.g,{value:oe}),Object.defineProperty(this,c.h,{value:ie}),this.sortMapEntries="function"==typeof l?l:!0===l?Ze:null}clone(){const e=Object.create(et.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function tt(e,t,n,o){if(o&&"object"==typeof o)if(Array.isArray(o))for(let i=0,t=o.length;i<t;++i){const t=o[i],n=tt(e,o,String(i),t);void 0===n?delete o[i]:n!==t&&(o[i]=n)}else if(o instanceof Map)for(const t of Array.from(o.keys())){const n=o.get(t),r=tt(e,o,t,n);void 0===r?o.delete(t):r!==n&&o.set(t,r)}else if(o instanceof Set)for(const t of Array.from(o)){const n=tt(e,o,t,t);void 0===n?o.delete(t):n!==t&&(o.delete(t),o.add(n))}else for(const[t,n]of Object.entries(o)){const r=tt(e,o,t,n);void 0===r?delete o[t]:r!==n&&(o[t]=r)}return e.call(t,n,o)}class nt{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,c.d,{value:c.b});let o=null;"function"==typeof t||Array.isArray(t)?o=t:void 0===n&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:l}=r;(null==n?void 0:n.directives)?(this.directives=n.directives.atDocument(),this.directives.yaml.explicit&&(l=this.directives.yaml.version)):this.directives=new E({version:l}),this.setSchema(l,n),this.contents=void 0===e?null:this.createNode(e,o,n)}clone(){const e=Object.create(nt.prototype,{[c.d]:{value:c.b}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Object(c.n)(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){st(this.contents)&&this.contents.add(e)}addIn(path,e){st(this.contents)&&this.contents.addIn(path,e)}createAlias(e,t){if(!e.anchor){const n=A(this);e.anchor=!t||n.has(t)?j(t||"a",n):t}return new T(e.anchor)}createNode(e,t,n){let o;if("function"==typeof t)e=t.call({"":e},"",e),o=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),o=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:l,flow:f,keepUndefined:h,onTagObj:d,tag:m}=null!=n?n:{},{onAnchor:y,setAnchors:v,sourceObjects:k}=function(e,t){const n=[],o=new Map;let r=null;return{onAnchor:source=>{n.push(source),r||(r=A(e));const o=j(t,r);return r.add(o),o},setAnchors:()=>{for(const source of n){const e=o.get(source);if("object"!=typeof e||!e.anchor||!Object(c.p)(e.node)&&!Object(c.k)(e.node)){const e=new Error("Failed to resolve repeated object (this should not happen)");throw e.source=source,e}e.node.anchor=e.anchor}},sourceObjects:o}}(this,l||"a"),w=x(e,m,{aliasDuplicateObjects:null==r||r,keepUndefined:null!=h&&h,onAnchor:y,onTagObj:d,replacer:o,schema:this.schema,sourceObjects:k});return f&&Object(c.k)(w)&&(w.flow=!0),v(),w}createPair(e,t,n={}){const o=this.createNode(e,null,n),r=this.createNode(t,null,n);return new G(o,r)}delete(e){return!!st(this.contents)&&this.contents.delete(e)}deleteIn(path){return C(path)?null!=this.contents&&(this.contents=null,!0):!!st(this.contents)&&this.contents.deleteIn(path)}get(e,t){return Object(c.k)(this.contents)?this.contents.get(e,t):void 0}getIn(path,e){return C(path)?!e&&Object(c.p)(this.contents)?this.contents.value:this.contents:Object(c.k)(this.contents)?this.contents.getIn(path,e):void 0}has(e){return!!Object(c.k)(this.contents)&&this.contents.has(e)}hasIn(path){return C(path)?void 0!==this.contents:!!Object(c.k)(this.contents)&&this.contents.hasIn(path)}set(e,t){null==this.contents?this.contents=$(this.schema,[e],t):st(this.contents)&&this.contents.set(e,t)}setIn(path,e){C(path)?this.contents=e:null==this.contents?this.contents=$(this.schema,Array.from(path),e):st(this.contents)&&this.contents.setIn(path,e)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new E({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new E({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new et(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:o,onAnchor:r,reviver:c}={}){const l={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof o?o:100,stringify:U},f=Object(F.a)(this.contents,null!=t?t:"",l);if("function"==typeof r)for(const{count:e,res:t}of l.anchors.values())r(t,e);return"function"==typeof c?tt(c,{"":f},"",f):f}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const s=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${s}`)}return function(e,t){var n;const o=[];let r=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(o.push(t),r=!0):e.directives.docStart&&(r=!0)}r&&o.push("---");const l=P(e,t),{commentString:f}=l.options;if(e.commentBefore){1!==o.length&&o.unshift("");const t=f(e.commentBefore);o.unshift(D(t,""))}let h=!1,d=null;if(e.contents){if(Object(c.n)(e.contents)){if(e.contents.spaceBefore&&r&&o.push(""),e.contents.commentBefore){const t=f(e.contents.commentBefore);o.push(D(t,""))}l.forceBlockIndent=!!e.comment,d=e.contents.comment}const t=d?void 0:()=>h=!0;let body=U(e.contents,l,(()=>d=null),t);d&&(body+=M(body,"",f(d))),"|"!==body[0]&&">"!==body[0]||"---"!==o[o.length-1]?o.push(body):o[o.length-1]=`--- ${body}`}else o.push(U(e.contents,l));if(null===(n=e.directives)||void 0===n?void 0:n.docEnd)if(e.comment){const t=f(e.comment);t.includes("\n")?(o.push("..."),o.push(D(t,""))):o.push(`... ${t}`)}else o.push("...");else{let t=e.comment;t&&h&&(t=t.replace(/^\n+/,"")),t&&(h&&!d||""===o[o.length-1]||o.push(""),o.push(D(f(t),"")))}return o.join("\n")+"\n"}(this,e)}}function st(e){if(Object(c.k)(e))return!0;throw new Error("Expected a YAML collection as document contents")}class it extends Error{constructor(e,t,code,n){super(),this.name=e,this.code=code,this.message=n,this.pos=t}}class ot extends it{constructor(e,code,t){super("YAMLParseError",e,code,t)}}class ct extends it{constructor(e,code,t){super("YAMLWarning",e,code,t)}}const at=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:line,col:col}=n.linePos[0];n.message+=` at line ${line}, column ${col}`;let o=col-1,r=e.substring(t.lineStarts[line-1],t.lineStarts[line]).replace(/[\n\r]+$/,"");if(o>=60&&r.length>80){const e=Math.min(o-39,r.length-79);r="…"+r.substring(e),o-=e-1}if(r.length>80&&(r=r.substring(0,79)+"…"),line>1&&/^ *$/.test(r.substring(0,o))){let n=e.substring(t.lineStarts[line-2],t.lineStarts[line-1]);n.length>80&&(n=n.substring(0,79)+"…\n"),r=n+r}if(/[^ ]/.test(r)){let e=1;const t=n.linePos[1];t&&t.line===line&&t.col>col&&(e=Math.min(t.col-col,80-o));const c=" ".repeat(o)+"^".repeat(e);n.message+=`:\n\n${r}\n${c}\n`}};function lt(e,{flow:t,indicator:n,next:o,offset:r,onError:c,startOnNewline:l}){let f=!1,h=l,d=l,m="",y="",v=!1,k=!1,w=!1,O=null,S=null,E=null,N=null,A=null;for(const o of e)switch(w&&("space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&c(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),w=!1),o.type){case"space":!t&&h&&"doc-start"!==n&&"\t"===o.source[0]&&c(o,"TAB_AS_INDENT","Tabs are not allowed as indentation"),d=!0;break;case"comment":{d||c(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=o.source.substring(1)||" ";m?m+=y+e:m=e,y="",h=!1;break}case"newline":h?m?m+=o.source:f=!0:y+=o.source,h=!0,v=!0,(O||S)&&(k=!0),d=!0;break;case"anchor":O&&c(o,"MULTIPLE_ANCHORS","A node can have at most one anchor"),o.source.endsWith(":")&&c(o.offset+o.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),O=o,null===A&&(A=o.offset),h=!1,d=!1,w=!0;break;case"tag":S&&c(o,"MULTIPLE_TAGS","A node can have at most one tag"),S=o,null===A&&(A=o.offset),h=!1,d=!1,w=!0;break;case n:(O||S)&&c(o,"BAD_PROP_ORDER",`Anchors and tags must be after the ${o.source} indicator`),N&&c(o,"UNEXPECTED_TOKEN",`Unexpected ${o.source} in ${null!=t?t:"collection"}`),N=o,h=!1,d=!1;break;case"comma":if(t){E&&c(o,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),E=o,h=!1,d=!1;break}default:c(o,"UNEXPECTED_TOKEN",`Unexpected ${o.type} token`),h=!1,d=!1}const j=e[e.length-1],T=j?j.offset+j.source.length:r;return w&&o&&"space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&("scalar"!==o.type||""!==o.source)&&c(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:E,found:N,spaceBefore:f,comment:m,hasNewline:v,hasNewlineAfterProp:k,anchor:O,tag:S,end:T,start:null!=A?A:T}}function ut(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(ut(t.key)||ut(t.value))return!0}return!1;default:return!0}}function ft(e,t,n){if("flow-collection"===(null==t?void 0:t.type)){const o=t.end[0];if(o.indent===e&&("]"===o.source||"}"===o.source)&&ut(t)){n(o,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function ht(e,t,n){const{uniqueKeys:o}=e.options;if(!1===o)return!1;const r="function"==typeof o?o:(a,b)=>a===b||Object(c.p)(a)&&Object(c.p)(b)&&a.value===b.value&&!("<<"===a.value&&e.schema.merge);return t.some((e=>r(e.key,n)))}const pt="All mapping items must start at the same column";function mt(e,t,n,o){let r="";if(e){let c=!1,l="";for(const f of e){const{source:source,type:e}=f;switch(e){case"space":c=!0;break;case"comment":{n&&!c&&o(f,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=source.substring(1)||" ";r?r+=l+e:r=e,l="";break}case"newline":r&&(l+=source),c=!0;break;default:o(f,"UNEXPECTED_TOKEN",`Unexpected ${e} at node end`)}t+=source.length}}return{comment:r,offset:t}}const yt="Block collections are not allowed within flow collections",gt=e=>e&&("block-map"===e.type||"block-seq"===e.type);function bt(e,t,n,o,r){let l;switch(n.type){case"block-map":l=function({composeNode:e,composeEmptyNode:t},n,o,r){var c;const map=new ee(n.schema);n.atRoot&&(n.atRoot=!1);let l=o.offset;for(const f of o.items){const{start:h,key:d,sep:m,value:y}=f,v=lt(h,{indicator:"explicit-key-ind",next:null!=d?d:null==m?void 0:m[0],offset:l,onError:r,startOnNewline:!0}),k=!v.found;if(k){if(d&&("block-seq"===d.type?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==o.indent&&r(l,"BAD_INDENT",pt)),!v.anchor&&!v.tag&&!m){v.comment&&(map.comment?map.comment+="\n"+v.comment:map.comment=v.comment);continue}(v.hasNewlineAfterProp||ut(d))&&r(null!=d?d:h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else(null===(c=v.found)||void 0===c?void 0:c.indent)!==o.indent&&r(l,"BAD_INDENT",pt);const w=v.end,O=d?e(n,d,v,r):t(n,w,h,null,v,r);n.schema.compat&&ft(o.indent,d,r),ht(n,map.items,O)&&r(w,"DUPLICATE_KEY","Map keys must be unique");const S=lt(null!=m?m:[],{indicator:"map-value-ind",next:y,offset:O.range[2],onError:r,startOnNewline:!d||"block-scalar"===d.type});if(l=S.end,S.found){k&&("block-map"!==(null==y?void 0:y.type)||S.hasNewline||r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&v.start<S.found.offset-1024&&r(O.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const c=y?e(n,y,S,r):t(n,l,m,null,S,r);n.schema.compat&&ft(o.indent,y,r),l=c.range[2];const h=new G(O,c);n.options.keepSourceTokens&&(h.srcToken=f),map.items.push(h)}else{k&&r(O.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(O.comment?O.comment+="\n"+S.comment:O.comment=S.comment);const e=new G(O);n.options.keepSourceTokens&&(e.srcToken=f),map.items.push(e)}}return map.range=[o.offset,l,l],map}(e,t,n,r);break;case"block-seq":l=function({composeNode:e,composeEmptyNode:t},n,o,r){const c=new ne(n.schema);n.atRoot&&(n.atRoot=!1);let l=o.offset;for(const{start:f,value:h}of o.items){const d=lt(f,{indicator:"seq-item-ind",next:h,offset:l,onError:r,startOnNewline:!0});if(l=d.end,!d.found){if(!(d.anchor||d.tag||h)){d.comment&&(c.comment=d.comment);continue}h&&"block-seq"===h.type?r(l,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator")}const m=h?e(n,h,d,r):t(n,l,f,null,d,r);n.schema.compat&&ft(o.indent,h,r),l=m.range[2],c.items.push(m)}return c.range=[o.offset,l,l],c}(e,t,n,r);break;case"flow-collection":l=function({composeNode:e,composeEmptyNode:t},n,o,r){var l;const f="{"===o.start.source,h=f?"flow map":"flow sequence",d=f?new ee(n.schema):new ne(n.schema);d.flow=!0;const m=n.atRoot;m&&(n.atRoot=!1);let y=o.offset+o.start.source.length;for(let i=0;i<o.items.length;++i){const m=o.items[i],{start:v,key:k,sep:w,value:O}=m,S=lt(v,{flow:h,indicator:"explicit-key-ind",next:null!=k?k:null==w?void 0:w[0],offset:y,onError:r,startOnNewline:!1});if(!S.found){if(!(S.anchor||S.tag||w||O)){0===i&&S.comma?r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${h}`):i<o.items.length-1&&r(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${h}`),S.comment&&(d.comment?d.comment+="\n"+S.comment:d.comment=S.comment),y=S.end;continue}!f&&n.options.strict&&ut(k)&&r(k,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===i)S.comma&&r(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${h}`);else if(S.comma||r(S.start,"MISSING_CHAR",`Missing , between ${h} items`),S.comment){let e="";e:for(const t of v)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=d.items[d.items.length-1];Object(c.o)(t)&&(t=null!==(l=t.value)&&void 0!==l?l:t.key),t.comment?t.comment+="\n"+e:t.comment=e,S.comment=S.comment.substring(e.length+1)}}if(f||w||S.found){const o=S.end,c=k?e(n,k,S,r):t(n,o,v,null,S,r);gt(k)&&r(c.range,"BLOCK_IN_FLOW",yt);const l=lt(null!=w?w:[],{flow:h,indicator:"map-value-ind",next:O,offset:c.range[2],onError:r,startOnNewline:!1});if(l.found){if(!f&&!S.found&&n.options.strict){if(w)for(const e of w){if(e===l.found)break;if("newline"===e.type){r(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<l.found.offset-1024&&r(l.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else O&&("source"in O&&O.source&&":"===O.source[0]?r(O,"MISSING_CHAR",`Missing space after : in ${h}`):r(l.start,"MISSING_CHAR",`Missing , or : between ${h} items`));const E=O?e(n,O,l,r):l.found?t(n,l.end,w,null,l,r):null;E?gt(O)&&r(E.range,"BLOCK_IN_FLOW",yt):l.comment&&(c.comment?c.comment+="\n"+l.comment:c.comment=l.comment);const N=new G(c,E);if(n.options.keepSourceTokens&&(N.srcToken=m),f){const map=d;ht(n,map.items,c)&&r(o,"DUPLICATE_KEY","Map keys must be unique"),map.items.push(N)}else{const map=new ee(n.schema);map.flow=!0,map.items.push(N),d.items.push(map)}y=E?E.range[2]:l.end}else{const o=O?e(n,O,S,r):t(n,S.end,w,null,S,r);d.items.push(o),y=o.range[2],gt(O)&&r(o.range,"BLOCK_IN_FLOW",yt)}}const v=f?"}":"]",[k,...w]=o.end;let O=y;if(k&&k.source===v)O=k.offset+k.source.length;else{const e=h[0].toUpperCase()+h.substring(1);r(y,m?"MISSING_CHAR":"BAD_INDENT",m?`${e} must end with a ${v}`:`${e} in block collection must be sufficiently indented and end with a ${v}`),k&&1!==k.source.length&&w.unshift(k)}if(w.length>0){const e=mt(w,O,n.options.strict,r);e.comment&&(d.comment?d.comment+="\n"+e.comment:d.comment=e.comment),d.range=[o.offset,O,e.offset]}else d.range=[o.offset,O,O];return d}(e,t,n,r)}if(!o)return l;const f=t.directives.tagName(o.source,(e=>r(o,"TAG_RESOLVE_FAILED",e)));if(!f)return l;const h=l.constructor;if("!"===f||f===h.tagName)return l.tag=h.tagName,l;const d=Object(c.m)(l)?"map":"seq";let m=t.schema.tags.find((e=>e.collection===d&&e.tag===f));if(!m){const e=t.schema.knownTags[f];if(!e||e.collection!==d)return r(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${f}`,!0),l.tag=f,l;t.schema.tags.push(Object.assign({},e,{default:!1})),m=e}const y=m.resolve(l,(e=>r(o,"TAG_RESOLVE_FAILED",e)),t.options),v=Object(c.n)(y)?y:new L.a(y);return v.range=l.range,v.tag=f,(null==m?void 0:m.format)&&(v.format=m.format),v}function vt(e,t,n){const o=e.offset,header=function({offset:e,props:t},n,o){if("block-scalar-header"!==t[0].type)return o(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:source}=t[0],r=source[0];let c=0,l="",f=-1;for(let i=1;i<source.length;++i){const t=source[i];if(l||"-"!==t&&"+"!==t){const n=Number(t);!c&&n?c=n:-1===f&&(f=e+i)}else l=t}-1!==f&&o(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${source}`);let h=!1,d="",m=source.length;for(let i=1;i<t.length;++i){const e=t[i];switch(e.type){case"space":h=!0;case"newline":m+=e.source.length;break;case"comment":if(n&&!h){o(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}m+=e.source.length,d=e.source.substring(1);break;case"error":o(e,"UNEXPECTED_TOKEN",e.message),m+=e.source.length;break;default:{o(e,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${e.type}`);const t=e.source;t&&"string"==typeof t&&(m+=t.length)}}}return{mode:r,indent:c,chomp:l,comment:d,length:m}}(e,t,n);if(!header)return{value:"",type:null,comment:"",range:[o,o,o]};const r=">"===header.mode?L.a.BLOCK_FOLDED:L.a.BLOCK_LITERAL,c=e.source?function(source){const e=source.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),o=[(null==n?void 0:n[1])?[n[1],t.slice(n[1].length)]:["",t]];for(let i=1;i<e.length;i+=2)o.push([e[i],e[i+1]]);return o}(e.source):[];let l=c.length;for(let i=c.length-1;i>=0;--i){const content=c[i][1];if(""!==content&&"\r"!==content)break;l=i}if(0===l){const t="+"===header.chomp&&c.length>0?"\n".repeat(Math.max(1,c.length-1)):"";let n=o+header.length;return e.source&&(n+=e.source.length),{value:t,type:r,comment:header.comment,range:[o,n,n]}}let f=e.indent+header.indent,h=e.offset+header.length,d=0;for(let i=0;i<l;++i){const[e,content]=c[i];if(""!==content&&"\r"!==content){if(e.length<f){const t="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(h+e.length,"MISSING_CHAR",t)}0===header.indent&&(f=e.length),d=i;break}0===header.indent&&e.length>f&&(f=e.length),h+=e.length+content.length+1}for(let i=c.length-1;i>=l;--i)c[i][0].length>f&&(l=i+1);let m="",y="",v=!1;for(let i=0;i<d;++i)m+=c[i][0].slice(f)+"\n";for(let i=d;i<l;++i){let[e,content]=c[i];h+=e.length+content.length+1;const t="\r"===content[content.length-1];if(t&&(content=content.slice(0,-1)),content&&e.length<f){const o=`Block scalar lines must not be less indented than their ${header.indent?"explicit indentation indicator":"first line"}`;n(h-content.length-(t?2:1),"BAD_INDENT",o),e=""}r===L.a.BLOCK_LITERAL?(m+=y+e.slice(f)+content,y="\n"):e.length>f||"\t"===content[0]?(" "===y?y="\n":v||"\n"!==y||(y="\n\n"),m+=y+e.slice(f)+content,y="\n",v=!0):""===content?"\n"===y?m+="\n":y="\n":(m+=y+content,y=" ",v=!1)}switch(header.chomp){case"-":break;case"+":for(let i=l;i<c.length;++i)m+="\n"+c[i][0].slice(f);"\n"!==m[m.length-1]&&(m+="\n");break;default:m+="\n"}const k=o+header.length+e.source.length;return{value:m,type:r,comment:header.comment,range:[o,k,k]}}function kt(e,t,n){const{offset:o,type:r,source:source,end:c}=e;let l,f;const h=(e,code,t)=>n(o+e,code,t);switch(r){case"scalar":l=L.a.PLAIN,f=function(source,e){let t="";switch(source[0]){case"\t":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":t=`block scalar indicator ${source[0]}`;break;case"@":case"`":t=`reserved character ${source[0]}`}t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`);return wt(source)}(source,h);break;case"single-quoted-scalar":l=L.a.QUOTE_SINGLE,f=function(source,e){"'"===source[source.length-1]&&1!==source.length||e(source.length,"MISSING_CHAR","Missing closing 'quote");return wt(source.slice(1,-1)).replace(/''/g,"'")}(source,h);break;case"double-quoted-scalar":l=L.a.QUOTE_DOUBLE,f=function(source,e){let t="";for(let i=1;i<source.length-1;++i){const n=source[i];if("\r"!==n||"\n"!==source[i+1])if("\n"===n){const{fold:e,offset:n}=Ot(source,i);t+=e,i=n}else if("\\"===n){let n=source[++i];const o=St[n];if(o)t+=o;else if("\n"===n)for(n=source[i+1];" "===n||"\t"===n;)n=source[1+ ++i];else if("\r"===n&&"\n"===source[i+1])for(n=source[1+ ++i];" "===n||"\t"===n;)n=source[1+ ++i];else if("x"===n||"u"===n||"U"===n){const o={x:2,u:4,U:8}[n];t+=Et(source,i+1,o,e),i+=o}else{const n=source.substr(i-1,2);e(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${n}`),t+=n}}else if(" "===n||"\t"===n){const e=i;let o=source[i+1];for(;" "===o||"\t"===o;)o=source[1+ ++i];"\n"===o||"\r"===o&&"\n"===source[i+2]||(t+=i>e?source.slice(e,i+1):n)}else t+=n}'"'===source[source.length-1]&&1!==source.length||e(source.length,"MISSING_CHAR",'Missing closing "quote');return t}(source,h);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[o,o+source.length,o+source.length]}}const d=o+source.length,m=mt(c,d,t,n);return{value:f,type:l,comment:m.comment,range:[o,d,m.offset]}}function wt(source){var e;let t,line;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),line=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/ys,line=/[ \t]*(.*?)[ \t]*\r?\n/ys}let n=t.exec(source);if(!n)return source;let o=n[1],r=" ",c=t.lastIndex;for(line.lastIndex=c;n=line.exec(source);)""===n[1]?"\n"===r?o+=r:r="\n":(o+=r+n[1],r=" "),c=line.lastIndex;const l=/[ \t]*(.*)/ys;return l.lastIndex=c,n=l.exec(source),o+r+(null!==(e=null==n?void 0:n[1])&&void 0!==e?e:"")}function Ot(source,e){let t="",n=source[e+1];for(;!(" "!==n&&"\t"!==n&&"\n"!==n&&"\r"!==n||"\r"===n&&"\n"!==source[e+2]);)"\n"===n&&(t+="\n"),n=source[(e+=1)+1];return t||(t=" "),{fold:t,offset:e}}const St={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Et(source,e,t,n){const o=source.substr(e,t),code=o.length===t&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(code)){const o=source.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(code)}function Nt(e,t,n,o){const{value:r,type:l,comment:f,range:h}="block-scalar"===t.type?vt(t,e.options.strict,o):kt(t,e.options.strict,o),d=n?e.directives.tagName(n.source,(e=>o(n,"TAG_RESOLVE_FAILED",e))):null,m=n&&d?function(e,t,n,o,r){var l;if("!"===n)return e[c.g];const f=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;f.push(t)}for(const e of f)if(null===(l=e.test)||void 0===l?void 0:l.test(t))return e;const h=e.knownTags[n];if(h&&!h.collection)return e.tags.push(Object.assign({},h,{default:!1,test:void 0})),h;return r(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[c.g]}(e.schema,r,d,n,o):"scalar"===t.type?function({directives:e,schema:t},n,o,r){var l;const f=t.tags.find((e=>{var t;return e.default&&(null===(t=e.test)||void 0===t?void 0:t.test(n))}))||t[c.g];if(t.compat){const h=null!==(l=t.compat.find((e=>{var t;return e.default&&(null===(t=e.test)||void 0===t?void 0:t.test(n))})))&&void 0!==l?l:t[c.g];if(f.tag!==h.tag){r(o,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(f.tag)} or ${e.tagString(h.tag)}`,!0)}}return f}(e,r,t,o):e.schema[c.g];let y;try{const l=m.resolve(r,(e=>o(null!=n?n:t,"TAG_RESOLVE_FAILED",e)),e.options);y=Object(c.p)(l)?l:new L.a(l)}catch(e){const c=e instanceof Error?e.message:String(e);o(null!=n?n:t,"TAG_RESOLVE_FAILED",c),y=new L.a(r)}return y.range=h,y.source=r,l&&(y.type=l),d&&(y.tag=d),m.format&&(y.format=m.format),f&&(y.comment=f),y}function At(e,t,n){if(t){null===n&&(n=t.length);for(let i=n-1;i>=0;--i){let n=t[i];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++i];"space"===(null==n?void 0:n.type);)e+=n.source.length,n=t[++i];break}}return e}const jt={composeNode:Tt,composeEmptyNode:It};function Tt(e,t,n,o){const{spaceBefore:r,comment:c,anchor:l,tag:f}=n;let h,d=!0;switch(t.type){case"alias":h=function({options:e},{offset:t,source:source,end:n},o){const r=new T(source.substring(1));""===r.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string");r.source.endsWith(":")&&o(t+source.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const c=t+source.length,l=mt(n,c,e.strict,o);r.range=[t,c,l.offset],l.comment&&(r.comment=l.comment);return r}(e,t,o),(l||f)&&o(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":h=Nt(e,t,f,o),l&&(h.anchor=l.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":h=bt(jt,e,t,f,o),l&&(h.anchor=l.source.substring(1));break;default:o(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),h=It(e,t.offset,void 0,null,n,o),d=!1}return l&&""===h.anchor&&o(l,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(h.spaceBefore=!0),c&&("scalar"===t.type&&""===t.source?h.comment=c:h.commentBefore=c),e.options.keepSourceTokens&&d&&(h.srcToken=t),h}function It(e,t,n,o,{spaceBefore:r,comment:c,anchor:l,tag:f},h){const d=Nt(e,{type:"scalar",offset:At(t,n,o),indent:-1,source:""},f,h);return l&&(d.anchor=l.source.substring(1),""===d.anchor&&h(l,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(d.spaceBefore=!0),c&&(d.comment=c),d}function Lt(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:source}=e;return[t,t+("string"==typeof source?source.length:1)]}function xt(e){var t;let n="",o=!1,r=!1;for(let i=0;i<e.length;++i){const source=e[i];switch(source[0]){case"#":n+=(""===n?"":r?"\n\n":"\n")+(source.substring(1)||" "),o=!0,r=!1;break;case"%":"#"!==(null===(t=e[i+1])||void 0===t?void 0:t[0])&&(i+=1),o=!1;break;default:o||(r=!0),o=!1}}return{comment:n,afterEmptyLine:r}}class $t{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(source,code,e,t)=>{const n=Lt(source);t?this.warnings.push(new ct(n,code,e)):this.errors.push(new ot(n,code,e))},this.directives=new E({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:o}=xt(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(o||e.directives.docStart||!r)e.commentBefore=n;else if(Object(c.k)(r)&&!r.flow&&r.items.length>0){let e=r.items[0];Object(c.o)(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=r.commentBefore;r.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:xt(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,o)=>{const r=Lt(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,o)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:o,value:r,end:c},l){const f=Object.assign({directives:t},e),h=new nt(void 0,f),d={atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},m=lt(o,{indicator:"doc-start",next:null!=r?r:null==c?void 0:c[0],offset:n,onError:l,startOnNewline:!0});m.found&&(h.directives.docStart=!0,!r||"block-map"!==r.type&&"block-seq"!==r.type||m.hasNewline||l(m.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=r?Tt(d,r,m,l):It(d,m.end,o,null,m,l);const y=h.contents.range[2],v=mt(c,y,!1,l);return v.comment&&(h.comment=v.comment),h.range=[n,y,v.offset],h}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new ot(Lt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new ot(Lt(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=mt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new ot(Lt(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({directives:this.directives},this.options),n=new nt(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function Ct(e,t=!0,n){if(e){const o=(e,code,t)=>{const o="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new ot([o,o+1],code,t);n(o,code,t)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return kt(e,t,o);case"block-scalar":return vt(e,t,o)}}return null}function _t(e,t){var n;const{implicitKey:o=!1,indent:r,inFlow:c=!1,offset:l=-1,type:f="PLAIN"}=t,source=Object(K.a)({type:f,value:e},{implicitKey:o,indent:r>0?" ".repeat(r):"",inFlow:c,options:{blockQuote:!0,lineWidth:-1}}),h=null!==(n=t.end)&&void 0!==n?n:[{type:"newline",offset:-1,indent:r,source:"\n"}];switch(source[0]){case"|":case">":{const e=source.indexOf("\n"),head=source.substring(0,e),body=source.substring(e+1)+"\n",t=[{type:"block-scalar-header",offset:l,indent:r,source:head}];return Dt(t,h)||t.push({type:"newline",offset:-1,indent:r,source:"\n"}),{type:"block-scalar",offset:l,indent:r,props:t,source:body}}case'"':return{type:"double-quoted-scalar",offset:l,indent:r,source:source,end:h};case"'":return{type:"single-quoted-scalar",offset:l,indent:r,source:source,end:h};default:return{type:"scalar",offset:l,indent:r,source:source,end:h}}}function Bt(e,t,n={}){let{afterKey:o=!1,implicitKey:r=!1,inFlow:c=!1,type:l}=n,f="indent"in e?e.indent:null;if(o&&"number"==typeof f&&(f+=2),!l)switch(e.type){case"single-quoted-scalar":l="QUOTE_SINGLE";break;case"double-quoted-scalar":l="QUOTE_DOUBLE";break;case"block-scalar":{const header=e.props[0];if("block-scalar-header"!==header.type)throw new Error("Invalid block scalar header");l=">"===header.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:l="PLAIN"}const source=Object(K.a)({type:l,value:t},{implicitKey:r||null===f,indent:null!==f&&f>0?" ".repeat(f):"",inFlow:c,options:{blockQuote:!0,lineWidth:-1}});switch(source[0]){case"|":case">":!function(e,source){const t=source.indexOf("\n"),head=source.substring(0,t),body=source.substring(t+1)+"\n";if("block-scalar"===e.type){const header=e.props[0];if("block-scalar-header"!==header.type)throw new Error("Invalid block scalar header");header.source=head,e.source=body}else{const{offset:t}=e,n="indent"in e?e.indent:-1,o=[{type:"block-scalar-header",offset:t,indent:n,source:head}];Dt(o,"end"in e?e.end:void 0)||o.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:o,source:body})}}(e,source);break;case'"':Mt(e,source,"double-quoted-scalar");break;case"'":Mt(e,source,"single-quoted-scalar");break;default:Mt(e,source,"scalar")}}function Dt(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function Mt(e,source,t){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=t,e.source=source;break;case"block-scalar":{const n=e.props.slice(1);let o=source.length;"block-scalar-header"===e.props[0].type&&(o-=e.props[0].source.length);for(const e of n)e.offset+=o;delete e.props,Object.assign(e,{type:t,source:source,end:n});break}case"block-map":case"block-seq":{const n={type:"newline",offset:e.offset+source.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:t,source:source,end:[n]});break}default:{const n="indent"in e?e.indent:-1,o="end"in e&&Array.isArray(e.end)?e.end.filter((e=>"space"===e.type||"comment"===e.type||"newline"===e.type)):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:t,indent:n,source:source,end:o})}}}const Kt=e=>"type"in e?qt(e):Pt(e);function qt(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=qt(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Pt(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Pt(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Pt(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Pt({start:e,key:t,sep:n,value:o}){let r="";for(const t of e)r+=t.source;if(t&&(r+=qt(t)),n)for(const e of n)r+=e.source;return o&&(r+=qt(o)),r}const Ut=Symbol("break visit"),Rt=Symbol("skip children"),Ft=Symbol("remove item");function Vt(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),Jt(Object.freeze([]),e,t)}function Jt(path,e,t){let n=t(e,path);if("symbol"==typeof n)return n;for(const o of["key","value"]){const r=e[o];if(r&&"items"in r){for(let i=0;i<r.items.length;++i){const e=Jt(Object.freeze(path.concat([[o,i]])),r.items[i],t);if("number"==typeof e)i=e-1;else{if(e===Ut)return Ut;e===Ft&&(r.items.splice(i,1),i-=1)}}"function"==typeof n&&"key"===o&&(n=n(e,path))}}return"function"==typeof n?n(e,path):n}Vt.BREAK=Ut,Vt.SKIP=Rt,Vt.REMOVE=Ft,Vt.itemAtPath=(e,path)=>{let t=e;for(const[e,n]of path){const o=null==t?void 0:t[e];if(!o||!("items"in o))return;t=o.items[n]}return t},Vt.parentCollection=(e,path)=>{const t=Vt.itemAtPath(e,path.slice(0,-1)),n=path[path.length-1][0],o=null==t?void 0:t[n];if(o&&"items"in o)return o;throw new Error("Parent collection not found")};const Yt="\ufeff",Wt="",Gt="",Qt="",Ht=e=>!!e&&"items"in e,Xt=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type);function zt(e){switch(e){case Yt:return"<BOM>";case Wt:return"<DOC>";case Gt:return"<FLOW_END>";case Qt:return"<SCALAR>";default:return JSON.stringify(e)}}function Zt(source){switch(source){case Yt:return"byte-order-mark";case Wt:return"doc-mode";case Gt:return"flow-error-end";case Qt:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(source[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function en(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const tn="0123456789ABCDEFabcdef".split(""),nn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),sn=",[]{}".split(""),on=" ,[]{}\n\r\t".split(""),rn=e=>!e||on.includes(e);class cn{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(source,e=!1){var t;source&&(this.buffer=this.buffer?this.buffer+source:source,this.lineEndPos=null),this.atEnd=!e;let n=null!==(t=this.next)&&void 0!==t?t:"stream";for(;n&&(e||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let i=this.pos,e=this.buffer[i];for(;" "===e||"\t"===e;)e=this.buffer[++i];return!e||"#"===e||"\n"===e||"\r"===e&&"\n"===this.buffer[i+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const dt=this.buffer.substr(e,3);if(("---"===dt||"..."===dt)&&en(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let line=this.getLine();if(null===line)return this.setNext("stream");if(line[0]===Yt&&(yield*this.pushCount(1),line=line.substring(1)),"%"===line[0]){let e=line.length;const t=line.indexOf("#");if(-1!==t){const n=line[t-1];" "!==n&&"\t"!==n||(e=t-1)}for(;;){const t=line[e-1];if(" "!==t&&"\t"!==t)break;e-=1}const n=(yield*this.pushCount(e))+(yield*this.pushSpaces(!0));return yield*this.pushCount(line.length-n),this.pushNewline(),"stream"}if(this.atLineEnd()){const e=yield*this.pushSpaces(!0);return yield*this.pushCount(line.length-e),yield*this.pushNewline(),"stream"}return yield Wt,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const s=this.peek(3);if("---"===s&&en(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===s&&en(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!en(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&en(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const line=this.getLine();if(null===line)return this.setNext("doc");let e=yield*this.pushIndicators();switch(line[e]){case"#":yield*this.pushCount(line.length-e);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(rn),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return e+=(yield*this.parseBlockScalarHeader()),e+=(yield*this.pushSpaces(!0)),yield*this.pushCount(line.length-e),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const line=this.getLine();if(null===line)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==line[0]||0===n&&(line.startsWith("---")||line.startsWith("..."))&&en(line[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===line[0]||"}"===line[0])))return this.flowLevel=0,yield Gt,yield*this.parseLineStart()}let o=0;for(;","===line[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),line[o]){case void 0:return"flow";case"#":return yield*this.pushCount(line.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(rn),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||en(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let o=n.indexOf("\n",this.pos);if(-1!==o){for(;-1!==o;){const e=this.continueScalar(o+1);if(-1===e)break;o=n.indexOf("\n",e)}-1!==o&&(t=o-("\r"===n[o-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let i=this.pos;for(;;){const e=this.buffer[++i];if("+"===e)this.blockScalarKeep=!0;else if(e>"0"&&e<="9")this.blockScalarIndent=Number(e)-1;else if("-"!==e)break}return yield*this.pushUntil((e=>en(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let i=this.pos;e=this.buffer[i];++i)switch(e){case" ":n+=1;break;case"\n":t=i,n=0;break;case"\r":{const e=this.buffer[i+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let i=t-1,e=this.buffer[i];"\r"===e&&(e=this.buffer[--i]);const o=i;for(;" "===e||"\t"===e;)e=this.buffer[--i];if(!("\n"===e&&i>=this.pos&&i+1+n>o))break;t=i}return yield Qt,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,i=this.pos-1;for(;t=this.buffer[++i];)if(":"===t){const t=this.buffer[i+1];if(en(t)||e&&","===t)break;n=i}else if(en(t)){let o=this.buffer[i+1];if("\r"===t&&("\n"===o?(i+=1,t="\n",o=this.buffer[i+1]):n=i),"#"===o||e&&sn.includes(o))break;if("\n"===t){const e=this.continueScalar(i+1);if(-1===e)break;i=Math.max(i,e-2)}}else{if(e&&sn.includes(t))break;n=i}return t||this.atEnd?(yield Qt,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(i,e){const s=this.buffer.slice(this.pos,i);return s?(yield s,this.pos+=s.length,s.length):(e&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(rn))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(en(t)||e&&sn.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let i=this.pos+2,e=this.buffer[i];for(;!en(e)&&">"!==e;)e=this.buffer[++i];return yield*this.pushToIndex(">"===e?i+1:i,!1)}{let i=this.pos+1,e=this.buffer[i];for(;e;)if(nn.includes(e))e=this.buffer[++i];else{if("%"!==e||!tn.includes(this.buffer[i+1])||!tn.includes(this.buffer[i+2]))break;e=this.buffer[i+=3]}return yield*this.pushToIndex(i,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,i=this.pos-1;do{t=this.buffer[++i]}while(" "===t||e&&"\t"===t);const n=i-this.pos;return n>0&&(yield this.buffer.substr(this.pos,n),this.pos=i),n}*pushUntil(e){let i=this.pos,t=this.buffer[i];for(;!e(t);)t=this.buffer[++i];return yield*this.pushToIndex(i,!1)}}class an{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const o=t+n>>1;this.lineStarts[o]<e?t=o+1:n=o}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function ln(e,t){for(let i=0;i<e.length;++i)if(e[i].type===t)return!0;return!1}function un(e){for(let i=0;i<e.length;++i)switch(e[i].type){case"space":case"comment":case"newline":break;default:return i}return-1}function fn(e){switch(null==e?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function hn(e){var t;switch(e.type){case"document":return e.start;case"block-map":{const n=e.items[e.items.length-1];return null!==(t=n.sep)&&void 0!==t?t:n.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function dn(e){var t;if(0===e.length)return[];let i=e.length;e:for(;--i>=0;)switch(e[i].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===(null===(t=e[++i])||void 0===t?void 0:t.type););return e.splice(i,e.length)}function pn(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||ln(t.start,"explicit-key-ind")||ln(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,fn(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class mn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new cn,this.onNewLine=e}*parse(source,e=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const t of this.lexer.lex(source,e))yield*this.next(t);e||(yield*this.end())}*next(source){if(this.source=source,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=source.length);const e=Zt(source);if(e)if("scalar"===e)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=e,yield*this.step(),e){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+source.length);break;case"space":this.atNewLine&&" "===source[0]&&(this.indent+=source.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=source.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=source.length}else{const e=`Not a YAML token: ${source}`;yield*this.pop({type:"error",offset:this.offset,message:e,source:source}),this.offset+=source.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=null!=e?e:this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&pn(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!ln(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===un(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==un(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=dn(hn(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const map={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=map}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(map){var e;const t=map.items[map.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const e="end"in t.value?t.value.end:void 0,n=Array.isArray(e)?e[e.length-1]:void 0;"comment"===(null==n?void 0:n.type)?null==e||e.push(this.sourceToken):map.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)map.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,map.indent)){const n=map.items[map.items.length-2],o=null===(e=null==n?void 0:n.value)||void 0===e?void 0:e.end;if(Array.isArray(o))return Array.prototype.push.apply(o,t.start),o.push(this.sourceToken),void map.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=map.indent){const e=!this.onKeyLine&&this.indent===map.indent&&t.sep;let n=[];if(e&&t.sep&&!t.value){const e=[];for(let i=0;i<t.sep.length;++i){const n=t.sep[i];switch(n.type){case"newline":e.push(i);break;case"space":break;case"comment":n.indent>map.indent&&(e.length=0);break;default:e.length=0}}e.length>=2&&(n=t.sep.splice(e[1]))}switch(this.type){case"anchor":case"tag":return void(e||t.value?(n.push(this.sourceToken),map.items.push({start:n}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||ln(t.start,"explicit-key-ind")?e||t.value?(n.push(this.sourceToken),map.items.push({start:n})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(ln(t.start,"explicit-key-ind"))if(t.sep)if(t.value)map.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ln(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]});else if(fn(t.key)&&!ln(t.sep,"newline")){const e=dn(t.start),n=t.key,o=t.sep;o.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:o}]})}else n.length>0?t.sep=t.sep.concat(n,this.sourceToken):t.sep.push(this.sourceToken);else if(ln(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=dn(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||e?map.items.push({start:n,key:null,sep:[this.sourceToken]}):ln(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);return void(e||t.value?(map.items.push({start:n,key:o,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(o):(Object.assign(t,{key:o,sep:[]}),this.onKeyLine=!0))}default:{const o=this.startBlockValue(map);if(o)return e&&"block-seq"!==o.type&&ln(t.start,"explicit-key-ind")&&map.items.push({start:n}),void this.stack.push(o)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const t="end"in n.value?n.value.end:void 0,o=Array.isArray(t)?t[t.length-1]:void 0;"comment"===(null==o?void 0:o.type)?null==t||t.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const o=e.items[e.items.length-2],r=null===(t=null==o?void 0:o.value)||void 0===t?void 0:t.end;if(Array.isArray(r))return Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),void e.items.pop()}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;return void n.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(n.value||ln(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=dn(hn(t));pn(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const map={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=map}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=dn(hn(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=dn(hn(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type)))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function yn(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new an||null,prettyErrors:t}}function gn(source,e={}){const{lineCounter:t,prettyErrors:n}=yn(e),o=new mn(null==t?void 0:t.addNewLine),r=new $t(e),c=Array.from(r.compose(o.parse(source)));if(n&&t)for(const e of c)e.errors.forEach(at(source,t)),e.warnings.forEach(at(source,t));return c.length>0?c:Object.assign([],{empty:!0},r.streamInfo())}function bn(source,e={}){const{lineCounter:t,prettyErrors:n}=yn(e),o=new mn(null==t?void 0:t.addNewLine),r=new $t(e);let c=null;for(const e of r.compose(o.parse(source),!0,source.length))if(c){if("silent"!==c.options.logLevel){c.errors.push(new ot(e.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else c=e;return n&&t&&(c.errors.forEach(at(source,t)),c.warnings.forEach(at(source,t))),c}function vn(e,t,n){let o;"function"==typeof t?o=t:void 0===n&&t&&"object"==typeof t&&(n=t);const r=bn(e,n);if(!r)return null;if(r.warnings.forEach((e=>Object(R.a)(r.options.logLevel,e))),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:o},n))}function kn(e,t,n){var o;let r=null;if("function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=null!==(o=null!=n?n:t)&&void 0!==o?o:{};if(!e)return}return new nt(e,r,n).toString(n)}t.a=r},646:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return k})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return O}));const o=Symbol.for("yaml.alias"),r=Symbol.for("yaml.document"),c=Symbol.for("yaml.map"),l=Symbol.for("yaml.pair"),f=Symbol.for("yaml.scalar"),h=Symbol.for("yaml.seq"),d=Symbol.for("yaml.node.type"),m=e=>!!e&&"object"==typeof e&&e[d]===o,y=e=>!!e&&"object"==typeof e&&e[d]===r,v=e=>!!e&&"object"==typeof e&&e[d]===c,k=e=>!!e&&"object"==typeof e&&e[d]===l,w=e=>!!e&&"object"==typeof e&&e[d]===f,O=e=>!!e&&"object"==typeof e&&e[d]===h;function S(e){if(e&&"object"==typeof e)switch(e[d]){case c:case h:return!0}return!1}function E(e){if(e&&"object"==typeof e)switch(e[d]){case o:case c:case f:case h:return!0}return!1}const N=e=>(w(e)||S(e))&&!!e.anchor;class A{constructor(e){Object.defineProperty(this,d,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}},649:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var o=n(646),r=n(702);const c=e=>!e||"function"!=typeof e&&"object"!=typeof e;class l extends o.e{constructor(e){super(o.g),this.value=e}toJSON(e,t){return(null==t?void 0:t.keep)?this.value:Object(r.a)(this.value,e,t)}toString(){return String(this.value)}}l.BLOCK_FOLDED="BLOCK_FOLDED",l.BLOCK_LITERAL="BLOCK_LITERAL",l.PLAIN="PLAIN",l.QUOTE_DOUBLE="QUOTE_DOUBLE",l.QUOTE_SINGLE="QUOTE_SINGLE"},702:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(646);function r(e,t,n){if(Array.isArray(e))return e.map(((e,i)=>r(e,String(i),n)));if(e&&"function"==typeof e.toJSON){if(!n||!Object(o.i)(e))return e.toJSON(t,n);const data={aliasCount:0,count:1,res:void 0};n.anchors.set(e,data),n.onCreate=e=>{data.res=e,delete n.onCreate};const r=e.toJSON(t,n);return n.onCreate&&n.onCreate(r),r}return"bigint"!=typeof e||(null==n?void 0:n.keep)?e:Number(e)}},721:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var o=n(649);const r="flow",c="block",l="quoted";function f(text,e,t="flow",{indentAtStart:n,lineWidth:o=80,minContentWidth:r=20,onFold:f,onOverflow:d}={}){if(!o||o<0)return text;const m=Math.max(1+r,1+o-e.length);if(text.length<=m)return text;const y=[],v={};let k,w,O=o-e.length;"number"==typeof n&&(n>o-Math.max(2,r)?y.push(0):O=o-n);let S,E=!1,i=-1,N=-1,A=-1;for(t===c&&(i=h(text,i),-1!==i&&(O=i+m));S=text[i+=1];){if(t===l&&"\\"===S){switch(N=i,text[i+1]){case"x":i+=3;break;case"u":i+=5;break;case"U":i+=9;break;default:i+=1}A=i}if("\n"===S)t===c&&(i=h(text,i)),O=i+m,k=void 0;else{if(" "===S&&w&&" "!==w&&"\n"!==w&&"\t"!==w){const e=text[i+1];e&&" "!==e&&"\n"!==e&&"\t"!==e&&(k=i)}if(i>=O)if(k)y.push(k),O=k+m,k=void 0;else if(t===l){for(;" "===w||"\t"===w;)w=S,S=text[i+=1],E=!0;const e=i>A+1?i-2:N-1;if(v[e])return text;y.push(e),v[e]=!0,O=e+m,k=void 0}else E=!0}w=S}if(E&&d&&d(),0===y.length)return text;f&&f();let j=text.slice(0,y[0]);for(let i=0;i<y.length;++i){const n=y[i],o=y[i+1]||text.length;0===n?j=`\n${e}${text.slice(0,o)}`:(t===l&&v[n]&&(j+=`${text[n]}\\`),j+=`\n${e}${text.slice(n+1,o)}`)}return j}function h(text,i){let e=text[i+1];for(;" "===e||"\t"===e;){do{e=text[i+=1]}while(e&&"\n"!==e);e=text[i+1]}return i}const d=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),m=e=>/^(%|---|\.\.\.)/m.test(e);function y(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:o}=t,r=t.options.doubleQuotedMinMultiLineLength,c=t.indent||(m(e)?"  ":"");let h="",y=0;for(let i=0,e=n[i];e;e=n[++i])if(" "===e&&"\\"===n[i+1]&&"n"===n[i+2]&&(h+=n.slice(y,i)+"\\ ",i+=1,y=i,e="\\"),"\\"===e)switch(n[i+1]){case"u":{h+=n.slice(y,i);const code=n.substr(i+2,4);switch(code){case"0000":h+="\\0";break;case"0007":h+="\\a";break;case"000b":h+="\\v";break;case"001b":h+="\\e";break;case"0085":h+="\\N";break;case"00a0":h+="\\_";break;case"2028":h+="\\L";break;case"2029":h+="\\P";break;default:"00"===code.substr(0,2)?h+="\\x"+code.substr(2):h+=n.substr(i,6)}i+=5,y=i+1}break;case"n":if(o||'"'===n[i+2]||n.length<r)i+=1;else{for(h+=n.slice(y,i)+"\n\n";"\\"===n[i+2]&&"n"===n[i+3]&&'"'!==n[i+4];)h+="\n",i+=2;h+=c," "===n[i+2]&&(h+="\\"),i+=1,y=i+1}break;default:i+=1}return h=y?h+n.slice(y):n,o?h:f(h,c,l,d(t))}function v(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return y(e,t);const n=t.indent||(m(e)?"  ":""),o="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?o:f(o,n,r,d(t))}function k(e,t){const{singleQuote:n}=t.options;let o;if(!1===n)o=y;else{const t=e.includes('"'),r=e.includes("'");o=t&&!r?v:r&&!t?y:n?v:y}return o(e,t)}function w({comment:e,type:t,value:n},r,l,h){const{blockQuote:y,commentString:v,lineWidth:w}=r.options;if(!y||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return k(n,r);const O=r.indent||(r.forceBlockIndent||m(n)?"  ":""),S="literal"===y||"folded"!==y&&t!==o.a.BLOCK_FOLDED&&(t===o.a.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const o=t-n,r=e.length;if(r<=o)return!1;for(let i=0,t=0;i<r;++i)if("\n"===e[i]){if(i-t>o)return!0;if(t=i+1,r-t<=o)return!1}return!0}(n,w,O.length));if(!n)return S?"|\n":">\n";let E,N;for(N=n.length;N>0;--N){const e=n[N-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let A=n.substring(N);const j=A.indexOf("\n");-1===j?E="-":n===A||j!==A.length-1?(E="+",h&&h()):E="",A&&(n=n.slice(0,-A.length),"\n"===A[A.length-1]&&(A=A.slice(0,-1)),A=A.replace(/\n+(?!\n|$)/g,`$&${O}`));let T,I=!1,L=-1;for(T=0;T<n.length;++T){const e=n[T];if(" "===e)I=!0;else{if("\n"!==e)break;L=T}}let x=n.substring(0,L<T?L+1:T);x&&(n=n.substring(x.length),x=x.replace(/\n+/g,`$&${O}`));let header=(S?"|":">")+(I?O?"2":"1":"")+E;if(e&&(header+=" "+v(e.replace(/ ?[\r\n]+/g," ")),l&&l()),S)return`${header}\n${O}${x}${n=n.replace(/\n+/g,`$&${O}`)}${A}`;return`${header}\n${O}${f(`${x}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${O}`)}${A}`,O,c,d(r))}`}function O(e,t,n,c){const{implicitKey:l,inFlow:h}=t,O="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:S}=e;S!==o.a.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(O.value)&&(S=o.a.QUOTE_DOUBLE);const E=e=>{switch(e){case o.a.BLOCK_FOLDED:case o.a.BLOCK_LITERAL:return l||h?k(O.value,t):w(O,t,n,c);case o.a.QUOTE_DOUBLE:return y(O.value,t);case o.a.QUOTE_SINGLE:return v(O.value,t);case o.a.PLAIN:return function(e,t,n,c){const{type:l,value:h}=e,{actualString:y,implicitKey:v,indent:O,inFlow:S}=t;if(v&&/[\n[\]{},]/.test(h)||S&&/[[\]{},]/.test(h))return k(h,t);if(!h||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(h))return v||S||!h.includes("\n")?k(h,t):w(e,t,n,c);if(!v&&!S&&l!==o.a.PLAIN&&h.includes("\n"))return w(e,t,n,c);if(""===O&&m(h))return t.forceBlockIndent=!0,w(e,t,n,c);const E=h.replace(/\n+/g,`$&\n${O}`);if(y){const e=e=>{var t;return e.default&&"tag:yaml.org,2002:str"!==e.tag&&(null===(t=e.test)||void 0===t?void 0:t.test(E))},{compat:n,tags:o}=t.doc.schema;if(o.some(e)||(null==n?void 0:n.some(e)))return k(h,t)}return v?E:f(E,O,r,d(t))}(O,t,n,c);default:return null}};let N=E(S);if(null===N){const{defaultKeyType:e,defaultStringType:n}=t.options,o=l&&e||n;if(N=E(o),null===N)throw new Error(`Unsupported default string type ${o}`)}return N}},822:function(e,t,n){"use strict";(function(e){function o(t,n){"debug"!==t&&"warn"!==t||(void 0!==e&&e.emitWarning?e.emitWarning(n):console.warn(n))}n.d(t,"a",(function(){return o}))}).call(this,n(295))},823:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var o=n(649),r=n(721);const c={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,n){if("function"==typeof e)return e.from(t,"base64");if("function"==typeof atob){const e=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(e.length);for(let i=0;i<e.length;++i)n[i]=e.charCodeAt(i);return n}return n("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:n,value:c},l,f,h){const d=c;let m;if("function"==typeof e)m=d instanceof e?d.toString("base64"):e.from(d.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let s="";for(let i=0;i<d.length;++i)s+=String.fromCharCode(d[i]);m=btoa(s)}}if(n||(n=o.a.BLOCK_LITERAL),n!==o.a.QUOTE_DOUBLE){const e=Math.max(l.options.lineWidth-l.indent.length,l.options.minContentWidth),t=Math.ceil(m.length/e),r=new Array(t);for(let i=0,n=0;i<t;++i,n+=e)r[i]=m.substr(n,e);m=r.join(n===o.a.BLOCK_LITERAL?"\n":" ")}return Object(r.a)({comment:t,type:n,value:m},l,f,h)}}}).call(this,n(741).Buffer)}}]);